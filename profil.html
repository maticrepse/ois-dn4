<section class="container-fluid" id="section4">
		<div class="col-sm-10 col-sm-offset-1">
    			<div class="container">
    				<div class="row">
						<ul class="nav nav-tabs">
							<li class="active" id="tab1Stars"><a data-toggle="tab" onclick="switchTab('tab1')" id="tab1">Osnovni podatki</a></li>
							<li class="" id="tab2Stars"><a data-toggle="tab" onclick="switchTab('tab2')" id="tab2">Meritve</a></li>
							<li class="" id="tab3Stars"><a data-toggle="tab" onclick="switchTab('tab3')" id="tab3">Dodaj meritve</a></li>
							<li class="" id="tab4Stars"><a data-toggle="tab" onclick="switchTab('tab4')" id="tab4">O Indeksu telesne mase</a></li>
						</ul>
						<div id="myTabContent" class="tab-content">
							<!-----------------------tab1 content------------------------>
<div class="tab-pane fade active in" id="cont1">
  <div class="row">
    <div class="col-lg-6">
      <div class="row"><div class="col-lg-6 col-sm-12">&nbsp</div></div>
      <div class="row">
        <div class="col-lg-6 col-sm-12">
          <div class="col-lg-6 col-sm-6">
          <label>&nbsp&nbsp&nbsp&nbspIme:</label>
          <!--h4 id="headerIme">&nbsp&nbsp&nbsp&nbspMatic</h4-->
          <span id="imeProfila"></span>
          </div>
          <div class="col-lg-6 col-sm-6">
          <label>&nbsp&nbsp&nbsp&nbspPriimek:</label>
          <!--h4 id="headerPriimek">&nbsp&nbsp&nbsp&nbspRepše</h4-->
          <span id="priimekProfila"></span>
          </div>
        </div>
      </div>
      <div class="row"><div class="col-lg-6 col-sm-12">&nbsp</div></div>
      <div class="row">
        <div class="col-lg-6 col-sm-12">
          <div class="col-lg-6 col-sm-6">
          <label>&nbsp&nbsp&nbsp&nbspSpol:</label>
          <!--h4 id="headerSpol">&nbsp&nbsp&nbsp&nbspMoški</h4-->
          <span id="spolProfila"></span>
          </div>
          <div class="col-lg-6 col-sm-6">
          <label>&nbsp&nbsp&nbsp&nbspStarost:</label>
          <!--h4 id="headerStarost">&nbsp&nbsp&nbsp&nbsp19</h4-->
          <span id="starostProfila"></span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
      <div class="col-lg-12">
        <h2 class="chart--Headline text-center">Povprečni indeks telesne mase Slovenije</h2>
        <div class="row">
          <div class="col-lg-6">
            <div class="charts--container">
              <ul>
                <li class="chart">
                  <h2 class="text-center">Moški</h2>
                  <div id="lineChartMale">
                    <svg id="lineChartSVG" class="lineChart--svg">
                      <defs>
                        <linearGradient id="lineChart--gradientBackgroundArea" x1="0" x2="0" y1="0" y2="1">
                          <stop class="lineChart--gradientBackgroundArea--top" offset="0%" />
                          <stop class="lineChart--gradientBackgroundArea--bottom" offset="100%" />
                        </linearGradient>
                      </defs>
                    </svg>
                  </div>
                </li>
              </ul>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="charts--container">
              <ul>
                <li class="chart">
                  <h2 class="text-center">Ženske</h2>
                  <div id="lineChartFemale">
                    <svg id="lineChartSVG" class="lineChart--svg">
                      <defs>
                        <linearGradient id="lineChart--gradientBackgroundArea" x1="0" x2="0" y1="0" y2="1">
                          <stop class="lineChart--gradientBackgroundArea--top" offset="0%" />
                          <stop class="lineChart--gradientBackgroundArea--bottom" offset="100%" />
                        </linearGradient>
                      </defs>
                    </svg>
                  </div>
                </li>
              </ul>
            </div>
          </div>
      </div>
      <br>via <a href="http://chartsbin.com/view/577" title="Body Mass Index (BMI) by Country">chartsbin.com</a>
    </div>
  </div>
</div>
							<!-----------------------tab2 content------------------------>
							<div class="tab-pane fade" id="cont2">
								<form class="form-horizontal">
	  								<fieldset>
	    								<legend>Vaše dosedanje meritve:</legend>
	    								<div class="form-group">
	    									<label for="selectMeritev" class="col-lg-2 control-label">Vitalni znak:</label>
											  <div class="col-lg-10">
												  <select class="form-control input-sm" id="selectMeritev">
													  <option value=""></option>
													  <option value="teza">Teža</option>
                            <option value="visina">Višina</option>
                            <option value="BMI">Indeks telesne mase (kritične meritve)</option>
												  </select>
										  	</div>
	    								</div>
	    								<div class="form-group">
	      						    <div class="col-lg-10 col-lg-offset-2">
							          	<button type="button" class="btn btn-info" onclick="izpisiTezo()" id="preberiMeritve">Preberi meritve</button>
								          <span id="preberiMeritveVitalnihZnakovSporocilo"></span>
								          <div id="rezultatMeritveVitalnihZnakov"></div>
                                    </div>
	    					      </div>
												<!--button type="button" class="btn btn-primary btn-xs" onclick="izpisiTezo()">Preberi meritve vitalnih znakov</button-->
												
												
	    							</fieldset>
	    						</form>
							</div>
							<!-----------------------tab3 content------------------------>
							<div class="tab-pane fade" id="cont3">
                                <form class="form-horizontal">
                                    <fieldset>
                                        <legend>Dodajte si meritve:</legend>
                                        <div class="form-group">
                                            <label for="inputVisina" class="col-lg-2 control-label">Visina(cm)</label>
                                            <div class="col-lg-10">
                                                <input type="text" class="form-control" id="inputVisina" placeholder="190.5">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="inputTeza" class="col-lg-2 control-label">Teža(kg)</label>
                                            <div class="col-lg-10">
                                                <input type="text" class="form-control" id="inputTeza" placeholder="90">
                                            </div>
                                        </div>
                                        <div class="col-lg-10 col-lg-offset-2">
                                            <button type="button" class="btn btn-info" onclick="dodajMeritve()" id="dodaj">Dodaj meritve</button>
                                            <span id="dodajMeritveVitalnihZnakovSporocilo"></span>
                                        </div>
                                        <span id="izracunanBMI"></span>
                                    </fieldset>
                                    <span id="prviVideo"></span>
                                </form>
							</div>
							<!-----------------------tab4 content------------------------>
							<div class="tab-pane fade" id="cont4">
								<div class="row"><div class="col-lg-10">&nbsp</div></div>
								<div class="row">
								  <div class="col-lg-4">&nbsp</div>
								  <div class="col-lg-4">
								    <!--iframe width="420" height="315" src="https://www.youtube.com/v/IQJav8cGDLo"></iframe-->
								    <div class="flex-video widescreen"><iframe src="https://www.youtube-nocookie.com/embed/IQJav8cGDLo" frameborder="0" allowfullscreen=""></iframe></div>
								  </div>
								</div>
							</div>
						</div>
    				</div><!--/row-->
    			</div><!--/container--> 
  		</div>
	</section>
	<script type="text/javascript" onload="vnesiPodatke();">
		(function (){
  var data = {
    lineChartFemale : [
      {
        date  : '1980-01-01',
        label : 'Leto: 1980',
        value : 26.38
      },
      {
        date  : '1990-01-01',
        label : 'Leto: 1990',
        value : 26.32
      },
      {
        date  : '2000-01-01',
        label : 'Leto: 2000',
        value : 26.31
      },
      {
        date  : '2006-01-01',
        label : 'Leto: 2006',
        value : 26.53
      },
      {
        date  : '2007-01-01',
        label : 'Leto: 2007',
        value : 26.56
      },
      {
        date  : '2008-01-01',
        label : 'Leto: 2008',
        value : 26.58
      }
    ],
    lineChartMale : [
      {
        date  : '1980-01-01',
        label : 'Leto: 1980',
        value : 25.65
      },
      {
        date  : '1990-01-01',
        label : 'Leto: 1990',
        value : 26.0
      },
      {
        date  : '2000-01-01',
        label : 'Leto: 2000',
        value : 26.67
      },
      {
        date  : '2006-01-01',
        label : 'Leto: 2006',
        value : 27.24
      },
      {
        date  : '2007-01-01',
        label : 'Leto: 2007',
        value : 27.33
      },
      {
        date  : '2008-01-01',
        label : 'Leto: 2008',
        value : 27.42
      }
    ]
  };
  
  var DURATION = 1500;
  var DELAY    = 500;
  
  /**
   * draw the fancy line chart
   *
   * @param {String} elementId elementId
   * @param {Array}  data      data
   */
  function drawLineChart( elementId, data ) {
    // parse helper functions on top
    var parse = d3.time.format( '%Y-%m-%d' ).parse;
    // data manipulation first
    data = data.map( function( datum ) {
      datum.date = parse( datum.date );
      
      return datum;
    } );
    
    // TODO code duplication check how you can avoid that
    var containerEl = document.getElementById( elementId ),
        width       = containerEl.clientWidth,
        height      = width * 0.4,
        margin      = {
          top    : 30,
          right  : 10,
          left   : 10 
        },
        
        detailWidth  = 98,
        detailHeight = 55,
        detailMargin = 10,

        container   = d3.select( containerEl ),
        svg         = container.select( 'svg' )
                                .attr( 'width', width )
                                .attr( 'height', height + margin.top ),

        x          = d3.time.scale().range( [ 0, width - detailWidth ] ),
        xAxis      = d3.svg.axis().scale( x )
                                  .ticks ( 8 )
                                  .tickSize( -(height) ),
        xAxisTicks = d3.svg.axis().scale( x )
                                  .ticks( 16 )
                                  .tickSize( -(height) )
                                  .tickFormat( '' ),
        y          = d3.scale.linear().range( [ height, 0 ] ),
        yAxisTicks = d3.svg.axis().scale( y )
                                  .ticks( 12 )
                                  .tickSize( width )
                                  .tickFormat( '' )
                                  .orient( 'right' ),
        
        area = d3.svg.area()
                      .interpolate( 'linear' )
                      .x( function( d )  { return x( d.date ) + detailWidth / 2; } )
                      .y0( height )
                      .y1( function( d ) { return y( d.value*50 ); } ),

        line = d3.svg.line()
                  .interpolate( 'linear' )
                  .x( function( d ) { return x( d.date ) + detailWidth / 2; } )
                  .y( function( d ) { return y( d.value*50 ); } ),
        
        startData = data.map( function( datum ) {
                      return {
                        date  : datum.date,
                        value : 0
                      };
                    } ),
        
        circleContainer;

    // Compute the minimum and maximum date, and the maximum price.
    x.domain( [ data[ 0 ].date, data[ data.length - 1 ].date ] );
    // hacky hacky hacky :(
    y.domain( [ 0, d3.max( data, function( d ) { return d.value*50; } ) + 700 ] );

    svg.append( 'g' )
        .attr( 'class', 'lineChart--xAxisTicks' )
        .attr( 'transform', 'translate(' + detailWidth / 2 + ',' + height + ')' )
        .call( xAxisTicks );

    svg.append( 'g' )
        .attr( 'class', 'lineChart--xAxis' )
        .attr( 'transform', 'translate(' + detailWidth / 2 + ',' + ( height + 7 ) + ')' )
        .call( xAxis );
    
    svg.append( 'g' )
      .attr( 'class', 'lineChart--yAxisTicks' )
      .call( yAxisTicks );
    
    // Add the line path.
    svg.append( 'path' )
        .datum( startData )
        .attr( 'class', 'lineChart--areaLine' )
        .attr( 'd', line )
        .transition()
        .duration( DURATION )
        .delay( DURATION / 2 )
        .attrTween( 'd', tween( data, line ) )
        .each( 'end', function() {
          drawCircles( data );
        } );
    
    
    // Add the area path.
    svg.append( 'path' )
        .datum( startData )
        .attr( 'class', 'lineChart--area' )
        .attr( 'd', area )
        .transition()
        .duration( DURATION )
        .attrTween( 'd', tween( data, area ) );
    
    // Helper functions!!!
    function drawCircle( datum, index ) {
      circleContainer.datum( datum )
                    .append( 'circle' )
                    .attr( 'class', 'lineChart--circle' )
                    .attr( 'r', 0 )
                    .attr(
                      'cx',
                      function( d ) {
                        return x( d.date ) + detailWidth / 2;
                      }
                    )
                    .attr(
                      'cy',
                      function( d ) {
                        return y( d.value*50 );
                      }
                    )
                    .on( 'mouseenter', function( d ) {
                      d3.select( this )
                        .attr(
                          'class',
                          'lineChart--circle lineChart--circle__highlighted' 
                        )
                        .attr( 'r', 7 );
                      
                        d.active = true;
                        
                        showCircleDetail( d );
                    } )
                    .on( 'mouseout', function( d ) {
                      d3.select( this )
                        .attr(
                          'class',
                          'lineChart--circle' 
                        )
                        .attr( 'r', 6 );
                      
                      if ( d.active ) {
                        hideCircleDetails();
                        
                        d.active = false;
                      }
                    } )
                    .on( 'click touch', function( d ) {
                      if ( d.active ) {
                        showCircleDetail( d )
                      } else {
                        hideCircleDetails();
                      }
                    } )
                    .transition()
                    .delay( DURATION / 10 * index )
                    .attr( 'r', 6 );
    }
    
    function drawCircles( data ) {
      circleContainer = svg.append( 'g' );

      data.forEach( function( datum, index ) {
        drawCircle( datum, index );
      } );
    }
    
    function hideCircleDetails() {
      circleContainer.selectAll( '.lineChart--bubble' )
                      .remove();
    }
    
    function showCircleDetail( data ) {
      var details = circleContainer.append( 'g' )
                        .attr( 'class', 'lineChart--bubble' )
                        .attr(
                          'transform',
                          function() {
                            var result = 'translate(';
                            
                            result += x( data.date );
                            result += ', ';
                            result += y( data.value*50 ) - detailHeight - detailMargin;
                            result += ')';
                            
                            return result;
                          }
                        );
      
      details.append( 'path' )
              .attr( 'd', 'M2.99990186,0 C1.34310181,0 0,1.34216977 0,2.99898218 L0,47.6680579 C0,49.32435 1.34136094,50.6670401 3.00074875,50.6670401 L44.4095996,50.6670401 C48.9775098,54.3898926 44.4672607,50.6057129 49,54.46875 C53.4190918,50.6962891 49.0050244,54.4362793 53.501875,50.6670401 L94.9943116,50.6670401 C96.6543075,50.6670401 98,49.3248703 98,47.6680579 L98,2.99898218 C98,1.34269006 96.651936,0 95.0000981,0 L2.99990186,0 Z M2.99990186,0' )
              .attr( 'width', detailWidth )
              .attr( 'height', detailHeight );
      
      var text = details.append( 'text' )
                        .attr( 'class', 'lineChart--bubble--text' );
      
      text.append( 'tspan' )
          .attr( 'class', 'lineChart--bubble--label' )
          .attr( 'x', detailWidth / 2 )
          .attr( 'y', detailHeight / 3 )
          .attr( 'text-anchor', 'middle' )
          .text( data.label );
      
      text.append( 'tspan' )
          .attr( 'class', 'lineChart--bubble--value' )
          .attr( 'x', detailWidth / 2 )
          .attr( 'y', detailHeight / 4 * 3 )
          .attr( 'text-anchor', 'middle' )
          .text( data.value );
    }
    
    function tween( b, callback ) {
      return function( a ) {
        var i = d3.interpolateArray( a, b );

        return function( t ) {
          return callback( i ( t ) );
        };
      };
    }
  }
  
  function ಠ_ಠ() {
    drawLineChart(    'lineChartFemale',    data.lineChartFemale );
    drawLineChart(    'lineChartMale',    data.lineChartMale );
    vnesiPodatke();
  }
  
  // yeah, let's kick things off!!!
  ಠ_ಠ();
  
})();
	</script>